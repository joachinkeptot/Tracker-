# ğŸ“Š Analytics Tab - Feature Overview

## Quick Start

Click the **Analytics** tab in the RoomMap Ops navigation to access the dashboard.

## Dashboard Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TIME PERIOD SELECTOR                                               â”‚
â”‚  [Last Week] [Last Month] [Last Quarter] [Custom Range]             â”‚
â”‚  â””â”€ Custom: [Start Date] to [End Date] [Apply]                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  METRICS CARDS (4 Columns)                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   PEOPLE     â”‚ â”‚  ACTIVITIES  â”‚ â”‚  LEARNING    â”‚ â”‚ ENGAGEMENT   â”‚â”‚
â”‚  â”‚  1,234       â”‚ â”‚  89          â”‚ â”‚ Ruhi: 23     â”‚ â”‚ Visits: 156  â”‚â”‚
â”‚  â”‚ New: 45      â”‚ â”‚ New: 12      â”‚ â”‚ JY: 34       â”‚ â”‚ Conv: 89     â”‚â”‚
â”‚  â”‚ +15% â–²       â”‚ â”‚ Connect: 234 â”‚ â”‚ Total: 57    â”‚ â”‚ Families: 67 â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CHARTS (2 Columns Ã— 2 Rows)                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ People Added Over Time      â”‚ â”‚ Activity Attendance by Type â”‚   â”‚
â”‚  â”‚ [Line Chart - Weekly]       â”‚ â”‚ [Bar Chart]                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Participation Status        â”‚ â”‚ Learning Completions       â”‚   â”‚
â”‚  â”‚ [Stacked Area Chart]        â”‚ â”‚ [Grouped Bar Chart]         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HEAT MAP: Home Visits by Area Over Time                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Area Name  â”‚ W1 â”‚ W2 â”‚ W3 â”‚ W4 â”‚ W5 â”‚ W6 â”‚ W7 â”‚ W8 â”‚ W9 â”‚W10â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ North      â”‚ 2  â”‚ 5  â”‚ 3  â”‚    â”‚ 4  â”‚ 6  â”‚ 2  â”‚ 3  â”‚    â”‚ 1  â”‚ â”‚
â”‚  â”‚ South      â”‚ 1  â”‚ 2  â”‚ 2  â”‚ 3  â”‚    â”‚ 2  â”‚ 4  â”‚ 1  â”‚ 2  â”‚ 3  â”‚ â”‚
â”‚  â”‚ East       â”‚    â”‚ 1  â”‚    â”‚ 2  â”‚ 1  â”‚    â”‚ 3  â”‚ 2  â”‚ 1  â”‚    â”‚ â”‚
â”‚  â”‚ West       â”‚ 3  â”‚ 2  â”‚ 1  â”‚    â”‚ 2  â”‚ 1  â”‚ 2  â”‚ 1  â”‚ 3  â”‚ 2  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  KEY INSIGHTS (Auto-Generated)                                      â”‚
â”‚  âœ“ Area X has no new activities in 8 weeks                          â”‚
â”‚  âœ“ 5 families have no activity connections                          â”‚
â”‚  âœ“ Community grew 20% faster than last quarter                      â”‚
â”‚  âœ“ JY cohort showing 34% increase in completions                    â”‚
â”‚  âœ“ Home visits conducted in 15 of 16 areas this month               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ“Š Export as PDF]                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Features

### 1ï¸âƒ£ Time Period Selection

- **Quick Select**: Buttons for Last Week, Last Month, Last Quarter
- **Custom Range**: Pick any start and end date
- **Real-time Updates**: All data refreshes based on selection

### 2ï¸âƒ£ Four Metric Cards

| Card           | Metrics                         | Calculation                       |
| -------------- | ------------------------------- | --------------------------------- |
| **People**     | Total, New, % Change            | From `dateAdded` field            |
| **Activities** | Total, New, Connections         | From `people.connectedActivities` |
| **Learning**   | Ruhi, JY, Total                 | From completion dates             |
| **Engagement** | Visits, Conversations, Families | From actual records               |

### 3ï¸âƒ£ Four Interactive Charts

1. **ğŸ“ˆ People Added Over Time** (Line Chart)
   - Shows new member additions by week
   - Helps identify growth trends
2. **ğŸ“Š Activity Attendance by Type** (Bar Chart)
   - Compares different activity types
   - Shows participation distribution
3. **ğŸ“‰ Participation Status Breakdown** (Stacked Area)
   - Tracks active, inactive, and new members
   - Shows engagement patterns over time
4. **ğŸ“š Learning Completions by Week** (Grouped Bars)
   - Ruhi vs. JY completions
   - Identifies learning acceleration/decline

### 4ï¸âƒ£ Home Visits Heat Map

- **Rows**: Geographic areas
- **Columns**: 12-week rolling window
- **Color Intensity**: More visits = darker blue
- **Interactive**: Hover to see exact counts
- **Use Case**: Identify underserved areas and visit patterns

### 5ï¸âƒ£ Auto-Generated Insights

Generated from data patterns:

- Areas with limited activity
- People needing engagement
- Community growth metrics
- Learning progress trends
- Engagement distribution

### 6ï¸âƒ£ PDF Export

- Single click export
- Includes all charts and metrics
- Formatted for printing
- Named `analytics-report.pdf`

## Data Sources

All data pulled directly from application records:

```
People:
  â”œâ”€ dateAdded: for new member tracking
  â”œâ”€ homeVisits[].date: for engagement metrics
  â”œâ”€ conversations[].date: for engagement metrics
  â”œâ”€ jyTexts[].dateCompleted: for learning tracking
  â”œâ”€ studyCircleBooks[].dateCompleted: for learning tracking
  â”œâ”€ connections: for relationship tracking
  â””â”€ area: for geographic analysis

Activities:
  â”œâ”€ dateAdded: (currently all activities counted)
  â”œâ”€ type: for activity categorization
  â””â”€ participantIds: for connection tracking
```

## Responsive Design

- **Desktop**: Full 4-column layout with detailed charts
- **Tablet**: 2-column cards, adjusted chart sizing
- **Mobile**: Single column, compact heat map

## Performance

- âœ… All calculations memoized (runs only when data changes)
- âœ… Charts optimized with Recharts
- âœ… PDF export: 1-2 seconds
- âœ… Smooth animations and transitions
- âœ… No blocking operations

## Customization Tips

### Changing Time Periods

Click any period button to instantly update all metrics:

```
Last Week  â†’ 7 days back
Last Month â†’ 30 days back
Last Quarter â†’ 90 days back
Custom â†’ Select your own range
```

### Heat Map Color Intensity

Colors range from light (few visits) to dark (many visits):

- 0 visits: Light gray
- 1-2 visits: Light blue
- 3+ visits: Darker blue

### Insight Generation

Insights trigger automatically based on:

- Areas with zero activity
- People with no connections
- Growth percentage changes
- Learning completion totals
- Engagement distribution

## Export Workflow

```
1. Filter to desired time period
2. Review metrics and charts
3. Click "Export as PDF"
4. Wait 1-2 seconds for rendering
5. PDF downloads automatically
6. Use for reports, presentations, archives
```

## Future Enhancements

- [ ] Export to Excel with multiple sheets
- [ ] Scheduled automated reports
- [ ] Side-by-side period comparisons
- [ ] Area/category specific filtering
- [ ] Custom metric definitions
- [ ] Predictive trend analysis
- [ ] Drill-down to individual records
- [ ] Real-time dashboard updates

---

**Component**: `src/Analytics.tsx` (630 lines)  
**Styling**: Included in `src/styles.css` (400+ lines)  
**Status**: âœ… Production Ready  
**Dependencies**: Recharts, html2canvas, jsPDF
